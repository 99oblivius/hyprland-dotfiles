# -----------------------------------------------------
# Key bindings
# name: "Oblivius"
# -----------------------------------------------------

# Variables
$mainMod = SUPER
$CONFIG = ~/.config
$HYPRSCRIPTS = $CONFIG/hypr/scripts
$SCRIPTS = $CONFIG/ml4w/scripts
$SETTINGS = $CONFIG/ml4w/settings

# -----------------------------------------------------
# Applications
# -----------------------------------------------------
bind = $mainMod, RETURN, exec, $SETTINGS/terminal.sh                                                                    # Terminal
bind = $mainMod, B, exec, $SETTINGS/browser.sh                                                                          # Browser
bind = $mainMod, E, exec, $SETTINGS/filemanager.sh                                                                      # File manager
bind = $mainMod SHIFT, D, exec, vesktop                                                                                 # Discord
bind = $mainMod SHIFT, C, exec, $SETTINGS/calculator.sh                                                                 # Calculator
bind = $mainMod, V, exec, $SCRIPTS/cliphist.sh                                                                          # Clipboard manager
bind = $mainMod, PERIOD, exec, smile                                                                                    # Emoji picker
bind = $mainMod, COMMA, exec, $SETTINGS/emojipicker.sh                                                                  # Sidebar
bind = $mainMod, I, exec, flatpak run com.ml4w.settings                                                                 # ML4W Settings
bind = CTRL SHIFT, ESCAPE, exec, kitty -1 -o window_margin_width=0 --hold -o background_opacity=0 -o window_border_width=0 btop  # System monitor

# -----------------------------------------------------
# Windows
# -----------------------------------------------------

# State
bind = $mainMod, Q, killactive                                                                                          # Kill window
bind = ALT, F4, killactive                                                                                              # Kill window (alt)
bind = $mainMod ALT, F4, exec, hyprctl activewindow | grep pid | tr -d 'pid:' | xargs kill                              # Kill all instances
bind = $mainMod, F, fullscreen, 0                                                                                       # Fullscreen
bind = $mainMod, M, fullscreen, 1                                                                                       # Maximize
bind = $mainMod, T, togglefloating                                                                                      # Toggle floating
bind = $mainMod ALT, T, workspaceopt, allfloat                                                                          # Float all windows
bind = $mainMod, J, togglesplit                                                                                         # Toggle split
bind = $mainMod, K, swapsplit                                                                                           # Swap split

# Focus (arrows)
bind = $mainMod, left, movefocus, l                                                                                     # Focus left
bind = $mainMod, right, movefocus, r                                                                                    # Focus right
bind = $mainMod, up, movefocus, u                                                                                       # Focus up
bind = $mainMod, down, movefocus, d                                                                                     # Focus down

# Focus (WASD)
bind = $mainMod, A, movefocus, l                                                                                        # Focus left
bind = $mainMod, D, movefocus, r                                                                                        # Focus right
bind = $mainMod, W, movefocus, u                                                                                        # Focus up
bind = $mainMod, S, movefocus, d                                                                                        # Focus down

# Resize
bind = $mainMod SHIFT, left, resizeactive, -100 0                                                                       # Shrink width
bind = $mainMod ALT, A, resizeactive, -100 0                                                                       # Shrink width
bind = $mainMod SHIFT, right, resizeactive, 100 0                                                                       # Grow width
bind = $mainMod ALT, D, resizeactive, 100 0                                                                       # Grow width
bind = $mainMod SHIFT, up, resizeactive, 0 -100                                                                         # Shrink height
bind = $mainMod ALT, W, resizeactive, 0 -100                                                                         # Shrink height
bind = $mainMod SHIFT, down, resizeactive, 0 100                                                                        # Grow height
bind = $mainMod ALT, S, resizeactive, 0 100                                                                        # Grow height

# Swap
bind = $mainMod CTRL, left, swapwindow, l                                                                               # Swap left
bind = $mainMod CTRL, A, movewindow, l                                                                               # Swap left
bind = $mainMod CTRL, right, swapwindow, r                                                                              # Swap right
bind = $mainMod CTRL, D, movewindow, r                                                                              # Swap right
bind = $mainMod CTRL, up, swapwindow, u                                                                                 # Swap up
bind = $mainMod CTRL, W, movewindow, u                                                                                 # Swap up
bind = $mainMod CTRL, down, swapwindow, d                                                                               # Swap down
bind = $mainMod CTRL, S, movewindow, d                                                                               # Swap down

# Mouse
bindm = $mainMod, mouse:272, movewindow                                                                                 # Move with mouse
bindm = $mainMod, mouse:273, resizewindow                                                                               # Resize with mouse

# Cycling & Groups
bind = $mainMod, Tab, exec, $SCRIPTS/focus.sh                                                                           # Window selector
binde = ALT, Tab, cyclenext                                                                                             # Cycle windows
binde = ALT, Tab, bringactivetotop                                                                                      # Bring to top
bind = $mainMod, G, togglegroup                                                                                         # Toggle group
bind = $mainMod ALT, G, exec, $HYPRSCRIPTS/gamemode.sh                                                                  # Game mode

# -----------------------------------------------------
# Workspaces
# -----------------------------------------------------

# Switch
bind = $mainMod, 1, workspace, 1                                                                                        # Workspace 1
bind = $mainMod, 2, workspace, 2                                                                                        # Workspace 2
bind = $mainMod, 3, workspace, 3                                                                                        # Workspace 3
bind = $mainMod, 4, workspace, 4                                                                                        # Workspace 4
bind = $mainMod, 5, workspace, 5                                                                                        # Workspace 5
bind = $mainMod, 6, workspace, 6                                                                                        # Workspace 6
bind = $mainMod, 7, workspace, 7                                                                                        # Workspace 7
bind = $mainMod, 8, workspace, 8                                                                                        # Workspace 8
bind = $mainMod, 9, workspace, 9                                                                                        # Workspace 9
bind = $mainMod, 0, workspace, 10                                                                                       # Workspace 10

# Move Window
bind = $mainMod SHIFT, 1, movetoworkspace, 1                                                                            # Move to workspace 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2                                                                            # Move to workspace 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3                                                                            # Move to workspace 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4                                                                            # Move to workspace 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5                                                                            # Move to workspace 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6                                                                            # Move to workspace 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7                                                                            # Move to workspace 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8                                                                            # Move to workspace 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9                                                                            # Move to workspace 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10                                                                           # Move to workspace 10

# Move All Windows
bind = $mainMod CTRL, 1, exec, $HYPRSCRIPTS/moveTo.sh 1                                                                 # Move all to workspace 1
bind = $mainMod CTRL, 2, exec, $HYPRSCRIPTS/moveTo.sh 2                                                                 # Move all to workspace 2
bind = $mainMod CTRL, 3, exec, $HYPRSCRIPTS/moveTo.sh 3                                                                 # Move all to workspace 3
bind = $mainMod CTRL, 4, exec, $HYPRSCRIPTS/moveTo.sh 4                                                                 # Move all to workspace 4
bind = $mainMod CTRL, 5, exec, $HYPRSCRIPTS/moveTo.sh 5                                                                 # Move all to workspace 5
bind = $mainMod CTRL, 6, exec, $HYPRSCRIPTS/moveTo.sh 6                                                                 # Move all to workspace 6
bind = $mainMod CTRL, 7, exec, $HYPRSCRIPTS/moveTo.sh 7                                                                 # Move all to workspace 7
bind = $mainMod CTRL, 8, exec, $HYPRSCRIPTS/moveTo.sh 8                                                                 # Move all to workspace 8
bind = $mainMod CTRL, 9, exec, $HYPRSCRIPTS/moveTo.sh 9                                                                 # Move all to workspace 9
bind = $mainMod CTRL, 0, exec, $HYPRSCRIPTS/moveTo.sh 10                                                                # Move all to workspace 10

# Navigation
bind = $mainMod, Tab, workspace, m+1                                                                                    # Next workspace
bind = $mainMod SHIFT, Tab, workspace, m-1                                                                              # Previous workspace
bind = $mainMod, mouse_down, workspace, e+1                                                                             # Next workspace (scroll)
bind = $mainMod, mouse_up, workspace, e-1                                                                               # Previous workspace (scroll)
bind = $mainMod CTRL, down, workspace, empty                                                                            # Next empty workspace

# -----------------------------------------------------
# Screenshots
# -----------------------------------------------------
bind = $mainMod SHIFT, S, exec, $HYPRSCRIPTS/oblivius-screenshot.sh --area                                              # Area screenshot
bind = $mainMod CTRL SHIFT, S, exec, $HYPRSCRIPTS/oblivius-screenshot.sh --window                                       # Window screenshot
bind = $mainMod ALT SHIFT, S, exec, $HYPRSCRIPTS/oblivius-screenshot.sh                                                 # Screenshot dialog

# -----------------------------------------------------
# System
# -----------------------------------------------------

# Launcher & Help
bind = $mainMod, SPACE, exec, $HYPRSCRIPTS/launcher.sh                                                                  # App launcher
bind = $mainMod CTRL, H, exec, $HYPRSCRIPTS/keybindings.sh                                                              # Show keybindings

# Configuration
bind = $mainMod ALT, R, exec, $HYPRSCRIPTS/loadconfig.sh                                                                # Reload config
bind = $mainMod CTRL ALT, R, exec, hyprctl reload                                                                       # Reload Hyprland

# Themes & Waybar
bind = CTRL ALT, T, exec, $CONFIG/ml4w/themes/themes.sh                                                                 # Theme switcher
bind = $mainMod ALT, B, exec, $CONFIG/waybar/themeswitcher.sh                                                           # Waybar themes
bind = $mainMod CTRL, B, exec, $CONFIG/waybar/toggle.sh                                                                 # Toggle waybar
bind = $mainMod CTRL ALT, B, exec, $CONFIG/waybar/launch.sh                                                             # Reload waybar

# Power & Session
bind = $mainMod, L, exec, $HYPRSCRIPTS/power.sh lock                                                                    # Lock screen
bind = CTRL ALT, DELETE, exec, $SCRIPTS/wlogout.sh                                                                      # Logout menu

# -----------------------------------------------------
# Display
# -----------------------------------------------------

# Zoom
bind = $mainMod SHIFT, mouse_down, exec, hyprctl keyword cursor:zoom_factor $(awk "BEGIN {print $(hyprctl getoption cursor:zoom_factor | grep 'float:' | awk '{print $2}') + 0.5}")  # Zoom in
bind = $mainMod SHIFT, mouse_up, exec, hyprctl keyword cursor:zoom_factor $(awk "BEGIN {print $(hyprctl getoption cursor:zoom_factor | grep 'float:' | awk '{print $2}') - 0.5}")   # Zoom out
bind = $mainMod SHIFT, Z, exec, hyprctl keyword cursor:zoom_factor 1                                                    # Reset zoom

# -----------------------------------------------------
# Hardware Keys
# -----------------------------------------------------

# Brightness
bind = , XF86MonBrightnessUp, exec, brightnessctl -q s +10%                                                             # Brightness up
bind = , XF86MonBrightnessDown, exec, brightnessctl -q s 10%-                                                           # Brightness down

# Keyboard Backlight
bind = , code:238, exec, brightnessctl -d smc::kbd_backlight s +10                                                      # Keyboard backlight up
bind = , code:237, exec, brightnessctl -d smc::kbd_backlight s 10-                                                      # Keyboard backlight down

# Volume
bindle = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+                                   # Volume up
bindle = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-                                        # Volume down
bind = , XF86AudioMute, exec, pactl set-sink-mute @DEFAULT_SINK@ toggle                                                 # Mute
bind = , XF86AudioMicMute, exec, pactl set-source-mute @DEFAULT_SOURCE@ toggle                                          # Mute mic

# Media
bind = , XF86AudioPlay, exec, playerctl play-pause                                                                      # Play/pause
bind = , XF86AudioPause, exec, playerctl pause                                                                          # Pause
bind = , XF86AudioNext, exec, playerctl next                                                                            # Next track
bind = , XF86AudioPrev, exec, playerctl previous                                                                        # Previous track

# Special Keys
bind = , XF86Calculator, exec, $SETTINGS/calculator.sh                                                                  # Calculator
bind = , XF86Lock, exec, hyprlock                                                                                       # Lock
bind = , XF86Tools, exec, flatpak run com.ml4w.settings                                                                 # ML4W Settings
